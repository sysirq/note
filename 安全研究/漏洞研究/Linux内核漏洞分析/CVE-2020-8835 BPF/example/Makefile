obj-m += simple.o

EXTRA_CFLAGS = -g -O0

all:
	make -C /home/john/Code/Linux/kernel/linux-4.0 M=$(shell pwd) modules && \
	gcc main.c -o main
update:
	scp -P 2222 -i /home/john/Code/Linux/image/stretch.id_rsa simple.ko root@localhost:~/ && \
	scp -P 2222 -i /home/john/Code/Linux/image/stretch.id_rsa main root@localhost:~/ 
clean:
	make -C /home/john/Code/Linux/kernel/linux-4.0 M=$(shell pwd) clean && \
	rm main
