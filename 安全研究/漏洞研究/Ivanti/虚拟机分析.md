# 版本

ps-ics-vmware-isa-v-22.7r2.3-b3431-package

```
export DSREL_MAJOR=22
export DSREL_MINOR=7
export DSREL_MAINT=2
export DSREL_DATAVER=5802
export DSREL_PRODUCT=ssl-vpn
export DSREL_DEPS=ive
export DSREL_BUILDNUM=3431
export DSREL_COMMENT="R2.3"
```

# 文件分析

```
Command (m for help): p
Disk /dev/sdb: 80 GiB, 85899345920 bytes, 167772160 sectors
Disk model: VMware Virtual S
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: dos
Disk identifier: 0x00000000

Device     Boot     Start       End   Sectors  Size Id Type
/dev/sdb1           16065    224909    208845  102M 83 Linux
/dev/sdb2          224910    433754    208845  102M 83 Linux
/dev/sdb3          449820    658664    208845  102M 83 Linux
/dev/sdb4          674730 167766794 167092065 79.7G 85 Linux extended
/dev/sdb5          674731  14779799  14105069  6.7G 83 Linux
/dev/sdb6        14779801  30089744  15309944  7.3G 83 Linux
/dev/sdb7        30089746  65802239  35712494   17G 83 Linux
/dev/sdb8        65802241  81112184  15309944  7.3G 83 Linux
/dev/sdb9        81112186 116824679  35712494   17G 83 Linux
/dev/sdb10      116824681 132134624  15309944  7.3G 82 Linux swap / Solaris
/dev/sdb11      132134626 167766794  35632169   17G 83 Linux
```



### sdb1

```
sysirq@sysirqMachine:~/ics$ ls sdb1/
boot.b  compact-file  coreboot.img  disksize  grub  kernel  log_coreboot  lost+found  VERSION
```

### sdb2

```
sysirq@sysirqMachine:~/ics$ ls sdb2
boot.b  coreboot.img  kernel  log_coreboot  lost+found  VERSION
```

### sdb3

```
sysirq@sysirqMachine:~/ics$ ls sdb3/
lost+found
```

### sdb4

```
root@sysirqMachine:/home/sysirq# mount /dev/sdb4 /mnt/
mount: /mnt: mount(2) system call failed: Cannot allocate memory.
       dmesg(1) may have more information after failed mount system call.
```

### sdb5

```
root@sysirqMachine:/home/sysirq# mount /dev/sdb5 /mnt/
mount: /mnt: unknown filesystem type 'LVM2_member'.
       dmesg(1) may have more information after failed mount system call
```

### sdb6

```
root@sysirqMachine:/home/sysirq# mount /dev/sdb6 /mnt/
mount: /mnt: unknown filesystem type 'LVM2_member'.
       dmesg(1) may have more information after failed mount system cal
```

### sdb7

```
root@sysirqMachine:/home/sysirq# mount /dev/sdb7 /mnt/
mount: /mnt: unknown filesystem type 'LVM2_member'.
       dmesg(1) may have more information after failed mount system call.
```

### sdb8

```
root@sysirqMachine:/home/sysirq# mount /dev/sdb8 /mnt/
mount: /mnt: wrong fs type, bad option, bad superblock on /dev/sdb8, missing codepage or helper program, or other error.
       dmesg(1) may have more information after failed mount system call.
```

### sdb9

```
root@sysirqMachine:/home/sysirq# mount /dev/sdb9 /mnt/
mount: /mnt: wrong fs type, bad option, bad superblock on /dev/sdb9, missing codepage or helper program, or other error.
       dmesg(1) may have more information after failed mount system call.
```

### sdb10

```
root@sysirqMachine:/home/sysirq# mount /dev/sdb10 /mnt/
mount: /mnt: unknown filesystem type 'swap'.
       dmesg(1) may have more information after failed mount system call.	
```

### sdb11

```
root@sysirqMachine:/home/sysirq# mount /dev/sdb11 /mnt/
mount: /mnt: wrong fs type, bad option, bad superblock on /dev/sdb11, missing codepage or helper program, or other error.
       dmesg(1) may have more information after failed mount system call.
```

### initrd 确定

通过grub配置文件，可以确定initrd 为 coreboot.img ，但是发现加密了的.。

populate_rootfs 函数是 Linux 内核启动过程中的一个关键函数，用于设置和填充初始的根文件系统。它主要负责处理 initramfs 和 initrd，并确保它们被正确地挂载和初始化。

populate_rootfs的调用流程为: start_kernel --> rest_init--> kernel_init --> kernel_init_freeable --> do_basic_setup --> do_initcalls  --> populate_rootfs

# 资料

