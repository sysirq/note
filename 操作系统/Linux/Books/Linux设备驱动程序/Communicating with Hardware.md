1.内存屏障(Memory Barriers)

https://www.cnblogs.com/icanth/archive/2012/06/10/2544300.html

CPU为了提高速度，会对代码进行重排序。此操作会导致CPU访问IO寄存器时，出现不可预知的错误。为了解决这种问题，创造了内存屏障。

满足处于内存屏障两边的内存操作是有序的，即内存屏障前的代码一定在内存屏障之后的代码先执行。