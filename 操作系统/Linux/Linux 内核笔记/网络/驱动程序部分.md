驱动程序不论上层协议是ARP还是IP，都通过dev_qeueu_xmit函数发送数据，并通过netif_receive_skb函数接收数据，这使得上层协议独立于具体的设备。